<ion-header>
  <ion-navbar>
    <ion-title>
      Search
    </ion-title>
    <button menuToggle>Toggle Menu</button>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <form (ngSubmit)="addIt(model)">
    <ion-input [(ngModel)]="model.scanned" name="scanned" placeholder="Scan something"></ion-input>
    <button>J'ai de la chance</button>
  </form>

  <ion-card *ngIf="search.shipment.length">
    <ion-item>
      Shipment
      <ion-icon name="search" *ngIf="model.searched == 'shipment'"></ion-icon>
    </ion-item>
    <ion-card-content>
      <ion-item *ngFor="let ship of search.shipment">
        <a href="#" (click)="openPack(ship)">{{ ship.name }}</a> - {{ ship.stateMachine?.state }}
      </ion-item>
    </ion-card-content>
  </ion-card>

  <ion-card *ngIf="search.packs.length">
    <ion-item>
      Pack
      <ion-icon name="search" *ngIf="model.searched == 'pack'"></ion-icon>
    </ion-item>
    <ion-card-content>
      <ion-item *ngFor="let pack of search.packs">
        <a href="#" (click)="openPack(pack)">{{ pack.name }}</a> - {{ pack.stateMachine?.state }} - {{ pack.locationSM?.state }}
      </ion-item>
    </ion-card-content>
  </ion-card>

  <ion-card *ngIf="search.products.length">
    <ion-item>
      Products
      <ion-icon name="search" *ngIf="model.searched == 'product'"></ion-icon>
    </ion-item>
    <ion-card-content>
      <ion-item *ngFor="let product of search.products">
        <a href="#" (click)="openPack(product)">{{ product.name }}</a> - {{ product.stateMachine?.state }}
      </ion-item>
    </ion-card-content>
  </ion-card>

</ion-content>
